<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">


    <title>Add group</title>
</head>
<body>
<style>
    body{
        background-color: #99bddc;
        padding: 5vw;
    }
    .form-floating{
        width: 50%;
        margin: 1vw 1vw 1vw 25%;
    }

    #button{
        width: 50%;
        margin-left: 25%;
    }

    #bottom{
        margin-top: 50vh;
    }
</style>

 <div id="alertPlace"></div>

<div class="form-floating mb-3">
    <input id="groupName" type="text" class="form-control" >
    <label for="groupName">Group name</label>
</div>
<div class="form-floating">
    <input id="groupDescription" type="text" class="form-control">
    <label for="groupDescription">Description</label>
</div>

<a id="button" onclick='addGroupToDB()' class='btn btn-primary'>Add</a>

<div id="bottom">
    <button type="button" class="btn btn-primary" onclick="document.location='main.html'">Back to the main page</button>
</div>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-gtEjrD/SeCtmISkJkNUaaKMoLD0//ElJ19smozuHV6z3Iehds+3Ulb9Bn9Plx0x4" crossorigin="anonymous"></script>


<script>

    function addGroupToDB(){

        const groupName = $('#groupName').val();
        console.log(groupName);
        const groupDescription = $('#groupDescription').val();

        if(groupName.length<1 || groupDescription.length<1){
            alert("Incorrect input");
            //
            // $('#alertPlace').addClass("alert alert-warning alert-dismissible fade show");
            // $('#alertPlace').append("Error<button type='button' className='btn-close' data-bs-dismiss='alert' aria-label='Close'></button>")
             return;
        }


        const query = "name="+groupName+"&description="+groupDescription;

        console.log("guery - " + query);
        $.ajax({
            url: "http://localhost:5000/api/group?"+query,
            method: "PUT",
            success: function (){
                document.location= 'main.html';
            }
        });

    }

</script>
</body>
</html>